---
pred_bat:
  module: predbat
  class: PredBat
  soc_kw: sensor.givtcp_sa2243g277_soc_kwh
  soc_percent: number.givtcp_sa2243g277_target_soc
  soc_max: sensor.givtcp_sa2243g277_battery_capacity_kwh
  reserve: number.givtcp_sa2243g277_battery_power_reserve
  pv_forecast_today: sensor.solcast_forecast_today
  pv_forecast_tomorrow: sensor.solcast_forecast_tomorrow
  pv_forecast_d3: sensor.solcast_forecast_d3
  pv_forecast_d4: sensor.solcast_forecast_d4
  load_today: sensor.givtcp_sa2243g277_load_energy_today_kwh
  charge_enable: switch.givtcp_sa2243g277_enable_charge_schedule
  charge_start_time: select.givtcp_sa2243g277_charge_start_time_slot_1
  charge_end_time: select.givtcp_sa2243g277_charge_end_time_slot_1
  charge_limit: number.givtcp_sa2243g277_target_soc
  charge_rate: number.givtcp_sa2243g277_battery_charge_rate
  discharge_rate: number.givtcp_sa2243g277_battery_discharge_rate
  battery_loss: 0.05
  days_previous: 7
  forecast_hours: 48
  debug_enable: False
  car_charging_hold: True
  car_charging_threshold: 6.0
  calculate_best: True
  best_soc_margin: 1.0
  best_soc_min: 4.0
  metric_house: 38
  metric_battery: 7.5
  metric_export: 4
  metric_min_improvement: 5
  set_soc_enable: True
  set_soc_minutes: 60
  set_soc_notify: True
  run_every: 5